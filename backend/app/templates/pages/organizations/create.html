{% extends "base.html" %}

{% block title %}{{ page_title }}{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-8 max-w-4xl">
    <!-- Header -->
    <div class="mb-8">
        <div class="flex items-center mb-4">
            <a href="/api/v1/organizations" class="text-blue-600 hover:text-blue-700 mr-4">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
                </svg>
            </a>
            <h1 class="text-3xl font-bold text-gray-900">Create Organization</h1>
        </div>
        <p class="text-gray-600">Set up a new organization for your team and projects.</p>
    </div>

    <!-- Error Message -->
    {% if error %}
    <div class="bg-red-50 border border-red-200 rounded-lg p-4 mb-6">
        <div class="flex">
            <svg class="w-5 h-5 text-red-400 mr-3 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
            <div>
                <h3 class="text-sm font-medium text-red-800">Error</h3>
                <p class="text-sm text-red-700 mt-1">{{ error }}</p>
            </div>
        </div>
    </div>
    {% endif %}

    <!-- Organization Creation Form -->
    <form method="POST" class="bg-white rounded-lg shadow-md p-6">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
            <!-- Basic Information -->
            <div class="lg:col-span-2">
                <h3 class="text-lg font-semibold text-gray-900 mb-4">Basic Information</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label for="name" class="block text-sm font-medium text-gray-700 mb-2">Organization Name *</label>
                        <input type="text" 
                               id="name" 
                               name="name" 
                               value="{{ form_data.name if form_data else '' }}"
                               required
                               class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                               placeholder="Enter organization name">
                    </div>
                    <div>
                        <label for="organization_type" class="block text-sm font-medium text-gray-700 mb-2">Organization Type</label>
                        <select id="organization_type" 
                                name="organization_type"
                                class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                            <option value="small_business" {% if form_data and form_data.organization_type == 'small_business' %}selected{% endif %}>Small Business</option>
                            <option value="enterprise" {% if form_data and form_data.organization_type == 'enterprise' %}selected{% endif %}>Enterprise</option>
                            <option value="startup" {% if form_data and form_data.organization_type == 'startup' %}selected{% endif %}>Startup</option>
                            <option value="educational" {% if form_data and form_data.organization_type == 'educational' %}selected{% endif %}>Educational</option>
                            <option value="government" {% if form_data and form_data.organization_type == 'government' %}selected{% endif %}>Government</option>
                            <option value="non_profit" {% if form_data and form_data.organization_type == 'non_profit' %}selected{% endif %}>Non-Profit</option>
                            <option value="individual" {% if form_data and form_data.organization_type == 'individual' %}selected{% endif %}>Individual</option>
                        </select>
                    </div>
                </div>
                <div class="mt-4">
                    <label for="description" class="block text-sm font-medium text-gray-700 mb-2">Description</label>
                    <textarea id="description" 
                              name="description" 
                              rows="3"
                              class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                              placeholder="Describe your organization">{{ form_data.description if form_data else '' }}</textarea>
                </div>
            </div>

            <!-- Contact Information -->
            <div class="lg:col-span-2">
                <h3 class="text-lg font-semibold text-gray-900 mb-4">Contact Information</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label for="contact_email" class="block text-sm font-medium text-gray-700 mb-2">Contact Email</label>
                        <input type="email" 
                               id="contact_email" 
                               name="contact_email" 
                               value="{{ form_data.contact_email if form_data else '' }}"
                               class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                               placeholder="contact@example.com">
                    </div>
                    <div>
                        <label for="contact_phone" class="block text-sm font-medium text-gray-700 mb-2">Contact Phone</label>
                        <input type="tel" 
                               id="contact_phone" 
                               name="contact_phone" 
                               value="{{ form_data.contact_phone if form_data else '' }}"
                               class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                               placeholder="+1 (555) 123-4567">
                    </div>
                </div>
                <div class="mt-4">
                    <label for="website" class="block text-sm font-medium text-gray-700 mb-2">Website</label>
                    <input type="url" 
                           id="website" 
                           name="website" 
                           value="{{ form_data.website if form_data else '' }}"
                           class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                           placeholder="https://example.com">
                </div>
            </div>

            <!-- Address Information -->
            <div class="lg:col-span-2">
                <h3 class="text-lg font-semibold text-gray-900 mb-4">Address Information</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="md:col-span-2">
                        <label for="address" class="block text-sm font-medium text-gray-700 mb-2">Address</label>
                        <input type="text" 
                               id="address" 
                               name="address" 
                               value="{{ form_data.address if form_data else '' }}"
                               class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                               placeholder="123 Main Street">
                    </div>
                    <div>
                        <label for="city" class="block text-sm font-medium text-gray-700 mb-2">City</label>
                        <input type="text" 
                               id="city" 
                               name="city" 
                               value="{{ form_data.city if form_data else '' }}"
                               class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                               placeholder="City">
                    </div>
                    <div>
                        <label for="state" class="block text-sm font-medium text-gray-700 mb-2">State/Province</label>
                        <input type="text" 
                               id="state" 
                               name="state" 
                               value="{{ form_data.state if form_data else '' }}"
                               class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                               placeholder="State">
                    </div>
                    <div>
                        <label for="country" class="block text-sm font-medium text-gray-700 mb-2">Country</label>
                        <input type="text" 
                               id="country" 
                               name="country" 
                               value="{{ form_data.country if form_data else '' }}"
                               class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                               placeholder="Country">
                    </div>
                    <div>
                        <label for="postal_code" class="block text-sm font-medium text-gray-700 mb-2">Postal Code</label>
                        <input type="text" 
                               id="postal_code" 
                               name="postal_code" 
                               value="{{ form_data.postal_code if form_data else '' }}"
                               class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                               placeholder="12345">
                    </div>
                </div>
            </div>

            <!-- Settings -->
            <div class="lg:col-span-2">
                <h3 class="text-lg font-semibold text-gray-900 mb-4">Settings</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label for="timezone" class="block text-sm font-medium text-gray-700 mb-2">Timezone</label>
                        <select id="timezone" 
                                name="timezone"
                                class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                            <option value="UTC" {% if form_data and form_data.timezone == 'UTC' %}selected{% endif %}>UTC</option>
                            <option value="America/New_York" {% if form_data and form_data.timezone == 'America/New_York' %}selected{% endif %}>Eastern Time</option>
                            <option value="America/Chicago" {% if form_data and form_data.timezone == 'America/Chicago' %}selected{% endif %}>Central Time</option>
                            <option value="America/Denver" {% if form_data and form_data.timezone == 'America/Denver' %}selected{% endif %}>Mountain Time</option>
                            <option value="America/Los_Angeles" {% if form_data and form_data.timezone == 'America/Los_Angeles' %}selected{% endif %}>Pacific Time</option>
                            <option value="Europe/London" {% if form_data and form_data.timezone == 'Europe/London' %}selected{% endif %}>London</option>
                            <option value="Europe/Paris" {% if form_data and form_data.timezone == 'Europe/Paris' %}selected{% endif %}>Paris</option>
                            <option value="Asia/Tokyo" {% if form_data and form_data.timezone == 'Asia/Tokyo' %}selected{% endif %}>Tokyo</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>

        <!-- Form Actions -->
        <div class="flex justify-end space-x-4 mt-8 pt-6 border-t border-gray-200">
            <a href="/api/v1/organizations" 
               class="px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md font-medium transition-colors">
                Cancel
            </a>
            <button type="submit" 
                    class="px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-md transition-colors">
                Create Organization
            </button>
        </div>
    </form>
</div>
{% endblock %} 